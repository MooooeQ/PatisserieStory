/* ===== 9:16 ç­‰æ¯”å®¹å™¨ ===== */
#box{width:100vw;height:calc(100vw * 16 / 9);max-height:100vh;max-width:calc(100vh * 9 / 16);margin:auto;background:#fff;box-shadow:0 0 20px rgba(0,0,0,.15);position:relative;overflow:hidden;}

/* æ ‡é¢˜é¡µæ—¶ç§»é™¤boxèƒŒæ™¯ï¼Œè®©å°é¢å›¾æ˜¾ç¤º */
#box.title-page {
    background: transparent;
}
html,body{margin:0;height:100%;display:flex;align-items:center;justify-content:center;background:linear-gradient(to right,#ffeef7,#fff0f5);font-family:sans-serif;}

/* ç§»é™¤ç³»ç»Ÿç¼©æ”¾è‡ªé€‚åº”è®¾ç½®ï¼Œç°åœ¨ä½¿ç”¨æµè§ˆå™¨åŸç”Ÿç¼©æ”¾ */

/* ===== æ ‡é¢˜é¡µ ===== */
#titlePage{
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    height:100%;
    position: relative;
    overflow: hidden;
}

/* å°é¢å›¾ç‰‡ä½œä¸ºèƒŒæ™¯ */
.cover-image{
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1; /* æ”¹ä¸ºæ­£æ•°ï¼Œç¡®ä¿åœ¨èƒŒæ™¯ä¹‹ä¸Š */
    overflow: hidden;
    /* ç§»é™¤é»˜è®¤èƒŒæ™¯ï¼Œè®©å›¾ç‰‡æ˜¾ç¤º */
    background: transparent;
}

.cover-image img{
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
    filter: brightness(0.8) blur(0.5px); /* æ¢å¤é€‚åº¦çš„æ»¤é•œæ•ˆæœ */
    display: block;
    opacity: 1;
}

/* å½“å›¾ç‰‡åŠ è½½å¤±è´¥æ—¶ï¼Œé€šè¿‡JavaScriptè®¾ç½®å¤‡ç”¨èƒŒæ™¯ */

/* å¸®åŠ©å¼¹çª—æ ·å¼ */
.help-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10000;
    backdrop-filter: blur(5px);
}

.help-content {
    background: linear-gradient(135deg, #fff 0%, #f8f9fa 100%);
    border-radius: 20px;
    padding: 40px;
    max-width: 500px;
    width: 90%;
    max-height: 80vh;
    overflow-y: auto;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    border: 2px solid rgba(255, 182, 213, 0.3);
    position: relative;
}

.help-title {
    font-size: 24px;
    font-weight: bold;
    color: #ff7eb6;
    text-align: center;
    margin-bottom: 25px;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.help-text {
    font-size: 16px;
    line-height: 1.8;
    color: #333;
    margin-bottom: 20px;
}

.help-text strong {
    color: #ff6b6b;
    font-weight: bold;
}

.help-text .highlight {
    color: #ff6b6b;
    font-weight: bold;
    background: rgba(255, 107, 107, 0.1);
    padding: 2px 6px;
    border-radius: 4px;
}

.help-close {
    width: 100%;
    height: 50px;
    background: linear-gradient(135deg, #ffb6d5, #ffc0cb);
    border: none;
    border-radius: 25px;
    color: white;
    font-size: 18px;
    font-weight: bold;
    cursor: pointer;
    margin-top: 20px;
    box-shadow: 0 4px 15px rgba(255, 182, 213, 0.4);
    transition: all 0.3s ease;
}

.help-close:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(255, 182, 213, 0.6);
}

.help-close:active {
    transform: translateY(0);
}

/* æ ‡é¢˜æ–‡å­—æ ·å¼å¢å¼º */
h1{
    font-size:72px;
    color:#fff;
    margin:0 0 20px;
    text-align:center;
    text-shadow: 0 4px 8px rgba(0, 0, 0, 0.5), 0 2px 4px rgba(0, 0, 0, 0.3);
    font-weight: bold;
    letter-spacing: 2px;
    position: relative;
    z-index: 10; /* ç¡®ä¿åœ¨å›¾ç‰‡ä¹‹ä¸Š */
}

/* æŒ‰é’®æ ·å¼å¢å¼º */
.btn{
    position: relative;
    z-index: 10; /* ç¡®ä¿åœ¨å›¾ç‰‡ä¹‹ä¸Š */
    background: rgba(255, 182, 213, 0.9);
    backdrop-filter: blur(10px);
    border: 2px solid rgba(255, 255, 255, 0.3);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2), 0 4px 12px rgba(255, 182, 213, 0.4);
}

.btn:hover{
    background: rgba(255, 182, 213, 1);
    transform: translateY(-2px);
    box-shadow: 0 12px 35px rgba(0, 0, 0, 0.3), 0 6px 15px rgba(255, 182, 213, 0.5);
}

/* å¸®åŠ©æŒ‰é’®æ ·å¼ */
#helpBtn{
    position: absolute;
    bottom: 110px;
    right: 30px;
    width: 60px;
    height: 60px;
    background: rgba(255, 182, 213, 0.9);
    backdrop-filter: blur(10px);
    border: 2px solid rgba(255, 255, 255, 0.3);
    border-radius: 50%;
    border: none;
    color: #fff;
    font-size: 28px;
    font-weight: bold;
    cursor: pointer;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    z-index: 10;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    line-height: 1;
}

#helpBtn:hover{
    background: rgba(255, 182, 213, 1);
    transform: scale(1.1);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
}

/* éŸ³ä¹æŒ‰é’®æ ·å¼å¢å¼º */
#musicToggle{
    position: absolute;
    bottom: 30px;
    right: 30px;
    width: 60px;
    height: 60px;
    background: rgba(255, 182, 213, 0.9);
    backdrop-filter: blur(10px);
    border: 2px solid rgba(255, 255, 255, 0.3);
    border-radius: 50%;
    border: none;
    color: #fff;
    font-size: 28px;
    cursor: pointer;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    z-index: 10; /* ç¡®ä¿åœ¨å›¾ç‰‡ä¹‹ä¸Š */
}

#musicToggle:hover{
    background: rgba(255, 182, 213, 1);
    transform: scale(1.1);
}

.btn{width:360px;height:100px;background:#ffb6d5;border:none;border-radius:50px;font-size:36px;color:#fff;cursor:pointer;box-shadow:0 6px 20px rgba(255,182,213,.6);}
.btn:active{transform:scale(.97);}
#musicToggle{position:absolute;bottom:30px;right:30px;width:60px;height:60px;background:#ffb6d5;border-radius:50%;border:none;color:#fff;font-size:28px;cursor:pointer;}

/* ===== æ¸¸æˆé¡µï¼ˆå‰å°ï¼‰ ===== */
#gamePage{display:none;height:100%;flex-direction:column;/* é¡¶éƒ¨ä¸è€å¿ƒæ¡å°ºå¯¸å˜é‡ï¼ˆç”¨äºæ‚¬æŒ‚æ°”æ³¡å®šä½ï¼‰ */--hdr:100px;--barH:28px;--barTop:20px;/* ç«‹ç»˜åº•éƒ¨åŸºå‡†ä¸æŸœå°å¯¹é½ï¼ˆæ¡Œé¢ç«¯ç”¨ï¼‰ */--avatarBottom:18vh;}
header{height:100px;background:#ffe0f0;display:flex;align-items:center;justify-content:space-between;padding:0 40px;font-size:32px;font-weight:bold;}
#customerPan{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:0 40px;position:relative;}
#customerWords{
    background: linear-gradient(135deg, #ffffff 0%, #fff8fc 100%);
    padding:calc(30px * var(--scale-factor, 1));
    border-radius:calc(25px * var(--scale-factor, 1));
    margin-bottom:calc(40px * var(--scale-factor, 1));
    max-width:calc(640px * var(--scale-factor, 1)); /* å’Œè€å¿ƒå€¼æ¡ä¸€æ ·å®½ */
    width:calc(640px * var(--scale-factor, 1));
    text-align:center;
    font-size:calc(40px * var(--scale-factor, 1));
    color:#333;
    box-sizing:border-box;
    box-shadow: 0 8px 32px rgba(255, 182, 213, 0.15), 0 2px 8px rgba(255, 182, 213, 0.1);
    border: 2px solid rgba(255, 182, 213, 0.2);
    position: relative;
    backdrop-filter: blur(10px);
    transition: all 0.3s ease;
    font-weight: 500;
    line-height: 1.4;
    letter-spacing: 0.5px;
}

/* å¯¹è¯æ°”æ³¡çš„è£…é¥°æ€§ä¼ªå…ƒç´  */
#customerWords::before {
    content: '';
    position: absolute;
    top: -2px;
    left: -2px;
    right: -2px;
    bottom: -2px;
    background: linear-gradient(135deg, #ffb6d5, #ffc0cb, #ffb6d5);
    border-radius: calc(27px * var(--scale-factor, 1));
    z-index: -1;
    opacity: 0.3;
    filter: blur(1px);
}

/* æ‚¬åœæ•ˆæœ */
#customerWords:hover {
    transform: translateY(-2px);
    box-shadow: 0 12px 40px rgba(255, 182, 213, 0.25), 0 4px 12px rgba(255, 182, 213, 0.15);
    border-color: rgba(255, 182, 213, 0.4);
}
#patienceBar{width:calc(640px * var(--scale-factor, 1));height:calc(28px * var(--scale-factor, 1));background:#e5e5e5;border-radius:calc(14px * var(--scale-factor, 1));overflow:hidden;margin:calc(20px * var(--scale-factor, 1)) auto calc(30px * var(--scale-factor, 1));}
#patienceFill{height:100%;width:100%;background:linear-gradient(to right,#7bed9f,#ffeaa7,#ff7675);transition:width .2s;}
.btn2{margin:calc(10px * var(--scale-factor, 1));width:calc(640px * var(--scale-factor, 1));height:calc(120px * var(--scale-factor, 1));background:#ffb6d5;border:none;border-radius:calc(60px * var(--scale-factor, 1));font-size:calc(48px * var(--scale-factor, 1));color:#fff;cursor:pointer;}

/* æ ‡é¢˜é¡µå“åº”å¼ */
@media (max-width: 1199px) and (min-width: 769px) {
    h1{font-size:60px;margin:0 0 15px;}
    .btn{width:320px;height:90px;font-size:32px;}
    #helpBtn{width:55px;height:55px;font-size:26px;bottom:100px;}
    #musicToggle{width:55px;height:55px;font-size:26px;}
    
    .help-content{padding:30px;max-width:450px;}
    .help-title{font-size:22px;}
    .help-text{font-size:15px;}
}

/* æ¸¸æˆé¡µå“åº”å¼ */
@media (max-width: 1199px) and (min-width: 769px) {
    header{height:80px;padding:0 30px;font-size:28px;}
    #gamePage{ --hdr:80px; --barH:24px; --barTop:18px; }
    #customerWords{max-width:500px;width:500px;padding:25px;font-size:32px;margin-bottom:30px;border-radius:20px;box-shadow: 0 6px 24px rgba(255, 182, 213, 0.15), 0 2px 6px rgba(255, 182, 213, 0.1);border: 2px solid rgba(255, 182, 213, 0.2);}
    #patienceBar{width:500px;height:24px;margin:18px auto 28px;}
    .btn2{width:500px;height:100px;font-size:40px;}
}

@media (max-width: 768px) and (min-width: 481px) {
    h1{font-size:48px;margin:0 0 15px;}
    .btn{width:280px;height:80px;font-size:28px;}
    #helpBtn{width:50px;height:50px;font-size:24px;bottom:90px;}
    #musicToggle{width:50px;height:50px;font-size:24px;}
    
    .help-content{padding:25px;max-width:400px;}
    .help-title{font-size:20px;}
    .help-text{font-size:14px;}
    
    header{height:70px;padding:0 20px;font-size:24px;}
    #gamePage{ --hdr:70px; --barH:20px; --barTop:15px; }
    #customerWords{max-width:400px;width:400px;padding:20px;font-size:28px;margin-bottom:25px;border-radius:18px;box-shadow: 0 5px 20px rgba(255, 182, 213, 0.15), 0 2px 5px rgba(255, 182, 213, 0.1);border: 2px solid rgba(255, 182, 213, 0.2);}
    #patienceBar{width:400px;height:20px;margin:15px auto 25px;}
    .btn2{width:400px;height:80px;font-size:32px;}
}

/* é«˜åˆ†è¾¨ç‡æ‰‹æœºå±å¹• (å¦‚ä¸€åŠ  Ace 2 Pro) */
@media (max-width: 1300px) and (min-width: 769px) and (max-height: 3000px) and (min-height: 2000px) {
    header{height:70px;padding:0 20px;font-size:24px;}
    #gamePage{ --hdr:70px; --barH:20px; --barTop:15px; }
    #customerWords{max-width:75% !important;width:75% !important;padding:20px;font-size:28px !important;margin-bottom:25px;left:50% !important;transform:translateX(-50%) !important;}
    #patienceBar{width:75% !important;height:20px;margin:15px auto 25px;}
    .btn2{width:75%;height:80px;font-size:32px;}
    
    /* è¯„ä»·é¡µæ ·å¼ */
    .game-eval #customerWords {
        max-width:75% !important;
        width:75% !important;
        left:50% !important;
        transform:translateX(-50%) !important;
        margin-bottom: 2vh !important;
    }
}

/* ===== åå¨é¡µ ===== */
#kitchenPage{
    display:none;
    height:100%;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    padding:20px;
    box-sizing:border-box;
    overflow:hidden;
    position: relative;
}
#recipeBtn{
    position:absolute;
    top:30px;
    left:50%;
    transform:translateX(-50%);
    width:180px;
    height:80px;
    background:#ffb6d5;
    border:none;
    border-radius:40px;
    font-size:36px;
    color:#fff;
    cursor:pointer;
    z-index:10;
}
#ingrList{
    margin-bottom:50px;
    max-width:100%;
    box-sizing:border-box;
    padding:20px;
}
.ingr{
    width:min(16.2vmin, 198px);
    height:min(16.2vmin, 198px);
    background:transparent;
    border-radius:20px;
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:min(3.2vmin, 28px);
    cursor:pointer;
    user-select:none;
    touch-action:none;
    box-sizing:border-box;
    flex-shrink:0;
    position: relative;
    overflow: hidden;
}

/* é…æ–™å›¾ç‰‡æ ·å¼ */
.ingr-image {
    width: 100%;
    height: 100%;
    object-fit: contain;
    border-radius: 20px;
    pointer-events: none; /* é˜²æ­¢å›¾ç‰‡å¹²æ‰°æ‹–æ‹½ */
    user-select: none;    /* é˜²æ­¢å›¾ç‰‡è¢«é€‰ä¸­ */
}

/* é…æ–™ä½ç½®æ§åˆ¶ - ä½¿ç”¨ç»å¯¹å®šä½ */

/* é¦–å…ˆè®¾ç½®å®¹å™¨ä¸ºç›¸å¯¹å®šä½ */
#ingrList {
    position: relative;
    height: 400px; /* è®¾ç½®å®¹å™¨é«˜åº¦ï¼Œä½ å¯ä»¥æ ¹æ®éœ€è¦è°ƒæ•´ */
}

/* æ¡Œé¢ç«¯ä½ç½® (â‰¥769px) - é™åˆ¶åœ¨boxèŒƒå›´å†… */
@media (min-width: 769px) {
    .ingr[data-ingr="é¢ç²‰"] { position: absolute; top: 100%; left: -850%; }
    .ingr[data-ingr="é¸¡è›‹"] { position: absolute; top: 35%; left: 235%; }
    .ingr[data-ingr="å·§å…‹åŠ›"] { position: absolute; top: 100%; left: -225%; }
    .ingr[data-ingr="æŠ¹èŒ¶ç²‰"] { position: absolute; top: 100%; left: -557%; }
    .ingr[data-ingr="è‹¹æœ"] { position: absolute; top: 36%; left: -100%; }
    .ingr[data-ingr="ç³–æµ†"] { position: absolute; top: 100%; left: 29%; }
    .ingr[data-ingr="æä»ç²‰"] { position: absolute; top: 35%; left: -890%; }
    .ingr[data-ingr="é£Ÿç”¨è‰²ç´ "] { position: absolute; top: 105%; left: 530%; }
    .ingr[data-ingr="å¥¶æ²¹"] { position: absolute; top: 100%; left: 267%; }
    .ingr[data-ingr="è‰è“"] { position: absolute; top: 36%; left: 555%; }
}

/* æ‰‹æœºç«¯ä½ç½® (â‰¤768px) - é™åˆ¶åœ¨boxèŒƒå›´å†… */
@media (max-width: 768px) {
    #ingrList {
        height: 300px; /* æ‰‹æœºç«¯å®¹å™¨é«˜åº¦ */
    }
    
    .ingr[data-ingr="é¢ç²‰"] { position: absolute; top: 50%; left: -365%; }
    .ingr[data-ingr="é¸¡è›‹"] { position: absolute; top: 5%; left: 155%; }
    .ingr[data-ingr="å·§å…‹åŠ›"] { position: absolute; top: 50%; left: -80%; }
    .ingr[data-ingr="æŠ¹èŒ¶ç²‰"] { position: absolute; top: 50%; left: -227%; }
    .ingr[data-ingr="è‹¹æœ"] { position: absolute; top: 5%; left: 0%; }
    .ingr[data-ingr="ç³–æµ†"] { position: absolute; top: 50%; left: 49%; }
    .ingr[data-ingr="æä»ç²‰"] { position: absolute; top: 8%; left: -400%; }
    .ingr[data-ingr="é£Ÿç”¨è‰²ç´ "] { position: absolute; top:52%; left: 300%; }
    .ingr[data-ingr="å¥¶æ²¹"] { position: absolute; top: 50%; left: 167%; }
    .ingr[data-ingr="è‰è“"] { position: absolute; top: 5%; left: 315%; }
}

/* è°ƒè¯•æŒ‰é’®æ ·å¼ */
#debugSkipBtn, #debugPerfectBtn, #debugGoodBtn, #debugFailBtn {
    position: fixed !important;
    top: 20px !important;
    right: 20px !important;
    background: #ff6b6b !important;
    color: white !important;
    border: none !important;
    padding: 8px 12px !important;
    border-radius: 6px !important;
    font-size: 12px !important;
    font-weight: bold !important;
    cursor: pointer !important;
    z-index: 99999 !important;
    box-shadow: 0 2px 8px rgba(255, 107, 107, 0.3) !important;
    transition: all 0.2s ease !important;
    pointer-events: auto !important;
    margin-bottom: 5px !important;
}

#debugSkipBtn {
    top: 20px !important;
    background: #ff6b6b !important;
}

#debugPerfectBtn {
    top: 60px !important;
    background: #4caf50 !important;
    box-shadow: 0 2px 8px rgba(76, 175, 80, 0.3) !important;
}

#debugGoodBtn {
    top: 100px !important;
    background: #ff9800 !important;
    box-shadow: 0 2px 8px rgba(255, 152, 0, 0.3) !important;
}

#debugFailBtn {
    top: 140px !important;
    background: #f44336 !important;
    box-shadow: 0 2px 8px rgba(244, 67, 54, 0.3) !important;
}

#debugSkipBtn:hover {
    background: #ff5252;
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(255, 107, 107, 0.4);
}

#debugSkipBtn:active {
    transform: translateY(0);
}

/* å›¾ç‰‡åŠ è½½å¤±è´¥æ—¶çš„æ–‡å­—åå¤‡æ ·å¼ */
.ingr-text-fallback {
    font-size: min(3.2vmin, 28px);
    color: #ff7eb6;
    font-weight: bold;
    text-align: center;
    line-height: 1;
}
#mixBowl{
    width:min(26vmin, 320px);
    height:min(26vmin, 320px);
    background:#fff3f8;
    border:6px dashed #ffb6d5;
    border-radius:50%;
    margin-top: -550px;
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:min(3.2vmin, 28px);
    margin-bottom:40px;
    box-sizing:border-box;
    flex-shrink:0;
}
#bakeBtn{
    position:fixed;
    top:50%;
    left:50%;
    transform:translate(-50%, -50%);
    width:min(60vmin, 520px);
    height:min(15vmin, 140px);
    background:#ffb6d5;
    border:none;
    border-radius:60px;
    font-size:min(4.5vmin, 42px);
    color:#fff;
    cursor:pointer;
    box-sizing:border-box;
    opacity:0;
    visibility:hidden;
    transition:opacity 0.3s ease, visibility 0.3s ease;
}

#bakeBtn:not([disabled]){
    opacity:1;
    visibility:visible;
}

 /* ===== åŠåœ†ç¯ååº”æ¡ï¼ˆåŒé¡µé®ç½©ï¼‰ ===== */
 #bakeCover{display:none;position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(255,255,255,.95);flex-direction:column;align-items:center;justify-content:flex-start;padding-top:50px;overflow:hidden;}
 #ringCanvas{width:90vw;height:90vw;max-width:720px;max-height:720px;background:#fff;border-radius:50%;box-shadow:0 0 20px rgba(0,0,0,.1);position:absolute;left:50%;top:50%;transform:translate(-50%, -50%);}

/* ç”µè„‘ç«¯ï¼šåŠåœ†ä½ç½® */
@media (min-width: 769px) {
    #ringCanvas {
        top: 100%; /* è®©åŠåœ†éœ²åœ¨ç”»é¢å†… */
        transform: translate(-50%, -50%);
    }
}

/* æ‰‹æœºç«¯ï¼šåŠåœ†ä½ç½® */
@media (max-width: 768px) {
    #ringCanvas {
        top: 95%; /* æ‰‹æœºç«¯ä½ç½® */
        transform: translate(-50%, -50%);
    }
}
 #bakeStopBtn{position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);width:480px;height:120px;background:#ffb6d5;border:none;border-radius:60px;font-size:48px;color:#fff;cursor:pointer;}

 /* ===== è¯„ä»·é¡µ ===== */
 #evalPage {
     display:none;
     height:100%;
     flex-direction:column;
     align-items:center;
     justify-content:center;
     text-align:center;
     position:fixed;
     inset:0;
     z-index:9999;
     background:linear-gradient(to right,#ffeef7,#fff0f5); /* ä¸æ¸¸æˆä¸»èƒŒæ™¯ä¸€è‡´ */
 }

/* === å“åº”å¼è®¾è®¡ === */
/* è¶…å¤§å±å¹• (2KåŠä»¥ä¸Š) */
@media (min-width: 1920px) {
    .ingr{width:180px;height:180px;font-size:36px;}
    #mixBowl{width:300px;height:300px;font-size:36px;}
    #bakeBtn{width:480px;height:120px;font-size:48px;}
    #bakeStopBtn{width:480px;height:120px;font-size:48px;}
    #recipeBtn{width:180px;height:80px;font-size:36px;}
    /* æ”¾å¤§å¤§å±ä¸Šçš„ç«‹ç»˜ */
    #gamePage .customer-avatar{height:78vh;max-height:1100px;}
    #evalPage .customer-avatar{height:40vh;max-height:560px;}
}

/* å¤§å±å¹• (1080p-2K) */
@media (max-width: 1919px) and (min-width: 1200px) {
    .ingr{width:144px;height:144px;font-size:28px;}
    #mixBowl{width:240px;height:240px;font-size:28px;}
    #bakeBtn{width:380px;height:100px;font-size:40px;}
    #bakeStopBtn{width:380px;height:100px;font-size:40px;}
    #recipeBtn{width:150px;height:70px;font-size:30px;}
    /* 1080p æ¡Œé¢ä¼˜åŒ–ç«‹ç»˜å°ºå¯¸ */
    #gamePage .customer-avatar{height:75vh;max-height:900px;}
    #evalPage .customer-avatar{height:36vh;max-height:480px;}
}

/* ä½DPIå±å¹•ï¼ˆå¦‚1080pï¼‰å…ƒç´ ç¼©æ”¾è°ƒæ•´ */
@media (max-width: 1920px) and (min-width: 1200px) and (max-height: 1200px) and (max-resolution: 120dpi) {
    .ingr{width:115px;height:115px;font-size:22px;}
    #mixBowl{width:192px;height:192px;font-size:22px;}
    #bakeBtn{width:304px;height:80px;font-size:32px;}
    #bakeStopBtn{width:304px;height:80px;font-size:32px;}
    #recipeBtn{width:120px;height:56px;font-size:24px;}
    /* 1080p ç«‹ç»˜å°ºå¯¸è°ƒæ•´ */
    #gamePage .customer-avatar{height:60vh;max-height:720px;}
    #evalPage .customer-avatar{height:29vh;max-height:384px;}
    /* æ°”æ³¡å’ŒæŒ‰é’®å°ºå¯¸è°ƒæ•´ */
    #customerWords{max-width:512px !important;width:512px !important;font-size:32px;}
    #patienceBar{width:512px !important;}
    .btn2{width:512px;height:96px;font-size:38px;}
}

/* é«˜DPIå±å¹•ï¼ˆå¦‚2K/4Kï¼‰å…ƒç´ æ”¾å¤§è°ƒæ•´ */
@media (min-width: 1920px) and (min-resolution: 120dpi) {
    .ingr{width:180px;height:180px;font-size:36px;}
    #mixBowl{width:300px;height:300px;font-size:36px;}
    #bakeBtn{width:480px;height:120px;font-size:48px;}
    #bakeStopBtn{width:480px;height:120px;font-size:48px;}
    #recipeBtn{width:180px;height:80px;font-size:36px;}
    /* é«˜DPI ç«‹ç»˜å°ºå¯¸è°ƒæ•´ */
    #gamePage .customer-avatar{height:78vh;max-height:1100px;}
    #evalPage .customer-avatar{height:40vh;max-height:560px;}
    /* æ°”æ³¡å’ŒæŒ‰é’®å°ºå¯¸è°ƒæ•´ */
    #customerWords{max-width:640px !important;width:640px !important;font-size:40px;}
    #patienceBar{width:640px !important;}
    .btn2{width:640px;height:120px;font-size:48px;}
}


/* ä¸­ç­‰å±å¹• (å¹³æ¿/å°æ¡Œé¢) */
@media (max-width: 1199px) and (min-width: 769px) {
    .ingr{width:126px;height:126px;font-size:24px;}
    #mixBowl{width:200px;height:200px;font-size:24px;}
    #bakeBtn{width:320px;height:80px;font-size:32px;}
    #bakeStopBtn{width:320px;height:80px;font-size:32px;}
    #recipeBtn{width:130px;height:60px;font-size:26px;}
    #ingrList{gap:20px;}
}

/* å°å±å¹• (å¤§æ‰‹æœº) */
@media (max-width: 768px) and (min-width: 481px) {
    .ingr{width:108px;height:108px;font-size:20px;}
    #mixBowl{width:160px;height:160px;font-size:20px;}
    #bakeBtn{width:280px;height:70px;font-size:28px;}
    #bakeStopBtn{width:280px;height:70px;font-size:28px;}
    #recipeBtn{width:110px;height:50px;font-size:22px;}
    #ingrList{gap:15px;}
}

/* æ‰‹æœºå“åº”å¼ */
@media (max-width: 480px){
    html{font-size:10px;}
    #box{width:100vw;height:calc(100vw * 16 / 9);max-width:calc(100vh * 9 / 16);max-height:100vh;}
    h1{font-size:40px !important;}
    header{height:56px;padding:0 14px;font-size:18px;}
    #gamePage{ --hdr:56px; --barH:5vw; --barTop:3vh; } /* barH ç”¨ç›¸å¯¹å•ä½ */
    .btn{width:240px;height:70px;font-size:28px !important;}
    .btn2{width:80vw !important;height:14vw !important;font-size:6vw !important;}
    .ingr{width:72px;height:72px;font-size:16px !important;}
    #mixBowl{width:120px;height:120px;font-size:16px !important;}
    #bakeBtn{width:200px;height:60px;font-size:20px !important;}
    #bakeStopBtn{width:200px;height:60px;font-size:20px !important;}
    #recipeBtn{width:80px;height:40px;font-size:16px !important;}
    #ingrList{gap:10px !important;}
    #ringCanvas{width:90vw !important;height:90vw !important;}
    #evalEmoji{font-size:20vw !important;}
    #evalWords{font-size:5vw !important;}
    /* å…³é”®ä¿®å¤ï¼šè®©æ°”æ³¡ä¸è€å¿ƒæ¡åœ¨æ‰‹æœºç«¯å¯è§ */
    #gamePage:not(.game-eval) #customerWords{
        position: fixed !important;
        top: calc(var(--hdr) + var(--barTop) + var(--barH) + 8px) !important;
        left: 50% !important;
        transform: translateX(-50%) !important;
        margin: 0 !important;
        max-width: 80% !important; /* åŸºäº#boxå®¹å™¨å®½åº¦çš„80% */
        width: 80% !important;
        border-radius: 20px !important;
        box-shadow: 0 8px 25px rgba(255, 182, 213, 0.2), 0 3px 8px rgba(255, 182, 213, 0.15) !important;
        border: 2px solid rgba(255, 182, 213, 0.3) !important;
    }
    
    /* æ‰‹æœºç«¯ç‚¹å•é¡µæ°”æ³¡å“åº”å¼ - ä¸è¯„ä»·é¡µä¿æŒä¸€è‡´ */
    #gamePage:not(.game-eval) #customerWords {
        max-width: 80% !important;
        width: 80% !important;
    }
    #patienceBar{width:80% !important;height:5vw !important;margin-bottom:3vh;}
    /* ä¸‹è°ƒç‚¹å•é¡µç«‹ç»˜é«˜åº¦å¹¶å–æ¶ˆä¸Šç§»ï¼Œé¿å…é®æŒ¡è€å¿ƒæ¡ */
    #gamePage:not(.game-eval) .customer-avatar{height:26vh;max-height:30vh;transform:none !important;}
    /* æ¢å¤ç‚¹å•é¡µç«‹ç»˜çš„åŸå§‹å¤§å° */
    #gamePage:not(.game-eval) .customer-avatar{height:70vh;max-height:700px;}
    /* è¯„ä»·é¡µç«‹ç»˜ä¿æŒåç§» */
    .game-eval .customer-avatar{transform:translateY(calc(var(--orderAvatarOffset, 5vh) + 10vh)) !important;}
}

/* ===== è¯„ä»·é¡µäººç‰©ç«‹ç»˜å’Œæ°”æ³¡å¯¹è¯æ¡† ===== */
.customer-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 80%;
}

/* è¯„ä»·é¡µçš„ç«‹ç»˜å°ºå¯¸ï¼ˆå›¾ç‰‡æœ¬èº«ä¸ºé€æ˜PNGï¼‰ */
.customer-avatar {
    width: auto;
    height: 28vh;
    max-height: 280px;
    margin-bottom: 20px;
    object-fit: contain;
}

.customer-bubble {
    background-color: #fff3f8;
    border-radius: 20px;
    padding: 20px;
    max-width: 600px;
    text-align: center;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

#evalEmoji {
    font-size: 48px;
    margin-bottom: 10px;
}

#evalWords {
    font-size: 24px;
    color: #444;
}
/* ===== æˆå“å›¾æ˜¾ç¤º ===== */
.dish-result {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin: 30px 0;
    padding: 20px;
    background: rgba(255, 255, 255, 0.9);
    border-radius: 20px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    position: relative;
    z-index: 3;   /* åœ¨æŸœå°ä¹‹ä¸Š */
}

/* è¯„ä»·æ€ï¼šæˆå“å±•ç¤ºæ‚¬æµ®åœ¨"å¥½çš„"æŒ‰é’®ä¸Šæ–¹ */
.game-eval #dishResult {
    position: fixed;
    bottom: clamp(80px, 12vh, 140px); /* åœ¨"å¥½çš„"æŒ‰é’®ä¸Šæ–¹ */
    left: 50%;
    transform: translateX(-50%);
    margin: 0;
    z-index: 4; /* ç¡®ä¿åœ¨æŒ‰é’®ä¹‹ä¸Š */
}

.dish-image {
    width: 120px;
    height: 120px;
    border-radius: 15px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 60px;
    margin-bottom: 15px;
    border: 3px solid #ffb6d5;
    background: #fff3f8;
}

.dish-name {
    font-size: 24px;
    font-weight: bold;
    color: #ff7eb6;
    text-align: center;
}
/* styles.css æœ«å°¾å·²æœ‰ */
.dish-image.wrong  { border-color: #636e72; } /* ç° */
.dish-image.good   { border-color: #ffeaa7; } /* é»„ */
.dish-image.perfect{ border-color: #7bed9f; } /* ç»¿ */

/* ===== æ‰‹æœºç«¯ç­‰æ¯”ç¼©æ”¾ï¼ˆâ‰¤480px ç”Ÿæ•ˆï¼‰ ===== */
@media (max-width: 480px) {
    /* æ ‡é¢˜é¡µæ‰‹æœºç«¯æ ·å¼ */
    h1{font-size:36px;margin:0 0 10px;}
    .btn{width:60vw;height:12vw;font-size:4.5vw;}
    #helpBtn{width:45px;height:45px;font-size:20px;bottom:80px;}
    #musicToggle{width:45px;height:45px;font-size:20px;}
    
    .help-content{padding:20px;max-width:90vw;}
    .help-title{font-size:18px;}
    .help-text{font-size:13px;}
    .help-close{height:45px;font-size:16px;}
    
    /* æ–‡å­— */
    #customerWords,
    #evalWords   { font-size: 4vw; }
    #evalEmoji   { font-size: 10vw; }
    .dish-name    { font-size: 3.5vw; }

    /* æŒ‰é’® */
    .btn2         { width: 70vw; height: 12vw; font-size: 4.5vw; }
    #bakeStopBtn  { width: 60vw; height: 10vw; font-size: 4vw; }

    /* é—´è· */
    #customerPan,
    #kitchenPage,
    #evalPage     { gap: 3vh; padding: 3vh; }

    /* ç«‹ç»˜ & æ°”æ³¡ */
    .customer-avatar { width: 25vw; height: 25vw; }
    .customer-bubble { max-width: 80vw; padding: 3vw; }
    .dish-image      { width: 25vw; height: 25vw; }
}
/* ===== èƒŒæ™¯å›¾å…¨å±æ›¿æ¢ ===== */
#box{
    background:url('bg_front.webp') center/cover no-repeat;
    transition:background 0.4s;   /* å¹³æ»‘åˆ‡æ¢ */
}
#kitchenPage.active{
    background:url('bg_kitchen.webp') center/cover no-repeat;
}
/* ===== åœºæ™¯èƒŒæ™¯å±‚ï¼ˆç‹¬ç«‹äº #boxï¼‰ ===== */
.scene-bg {
    position: fixed;
    inset: 0;
    z-index: -1;          /* ä½äº UIï¼Œé«˜äº #box */
    background: center/cover no-repeat;
    transition: background 0.4s;
}
.scene-bg.front { background-image: url('bg_front.webp'); }
.scene-bg.kitchen { background-image: url('bg_kitchen.webp'); }

/* è®© #box æœ¬èº«é€æ˜ï¼Œåªå½“å®¹å™¨ */
#box { background: none !important; }
/* ===== åœºæ™¯é¡µå†…èƒŒæ™¯ï¼ˆç”»é¢çº§ï¼‰ ===== */
#gamePage {
    background: url('bg_front.webp') center/cover no-repeat;
    transition: background 0.4s;
    position: relative;   /* å…³é”® */
    height: 100%;
    flex-direction: column;
}
#kitchenPage {
    background: url('bg_kitchen.webp') center/cover no-repeat;
    transition: background 0.4s;
}

/* è®© #box æœ¬èº«é€æ˜ï¼Œåªå½“æ’ç‰ˆå®¹å™¨ */
#box { background: none !important; }
/* ===== ç«‹ç»˜ç­‰æ¯”ç¼©æ”¾ï¼ˆå‰å°ï¼‰ ===== */
#gamePage .customer-avatar {
    width: auto;
    height: 70vh;          /* å ç”»é¢é«˜åº¦çš„70% */
    max-height: 700px;
    object-fit: contain;
    transition: opacity 0.3s;
    transform: translateY(var(--orderAvatarOffset, 5vh)); /* ç‚¹å•é¡µç«‹ç»˜ä½ç½® */
}
#evalPage .customer-avatar { transform: translateY(2vh); }

/* ç‚¹å•é¡µï¼šè®©æ°”æ³¡è¦†ç›–åœ¨ç«‹ç»˜ä¹‹ä¸Š */
#gamePage .customer-avatar { position: relative; z-index: 1; }
#gamePage .customer-bubble  { position: relative; z-index: 3; }
/* æŸœå°å‰æ™¯è¦†ç›–å±‚ï¼ˆä½äºç«‹ç»˜ä¸Šæ–¹ã€å¯¹è¯/æŒ‰é’®/æˆå“ä¸‹æ–¹ï¼‰ */
.counter-overlay{
    position:absolute;
    inset:0;                        /* å®¹å™¨ä¸æ¸¸æˆç”»é¢ä¸€è‡´å¤§å° */
    background: url('images/counter_front.png') center bottom / 100% auto no-repeat; /* æŸœå°è´´å›¾ï¼Œè´´åº•å¯¹é½ */
    pointer-events:none;            /* ä¸æ‹¦æˆªäº¤äº’ */
    z-index: 2;                     /* é«˜äºç«‹ç»˜(1)ï¼Œä½äºæ°”æ³¡/æŒ‰é’®/æˆå“(3/4) */
}

/* ===== è‡ªå®šä¹‰å¼¹çª—ç³»ç»Ÿ ===== */
.modal-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.6);
    backdrop-filter: blur(4px);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10000;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease;
}

.modal-overlay.show {
    opacity: 1;
    visibility: visible;
}

.modal-content {
    background: linear-gradient(135deg, #fff 0%, #f8f9fa 100%);
    border-radius: 20px;
    padding: 30px;
    max-width: 80vw;
    max-height: 70vh;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    transform: scale(0.8) translateY(20px);
    transition: all 0.3s ease;
    position: relative;
    overflow-y: auto;
    border: 2px solid #e9ecef;
}

.modal-overlay.show .modal-content {
    transform: scale(1) translateY(0);
}

.modal-header {
    text-align: center;
    margin-bottom: 20px;
    padding-bottom: 15px;
    border-bottom: 2px solid #e9ecef;
}

.modal-title {
    font-size: 24px;
    font-weight: bold;
    color: #2c3e50;
    margin: 0;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}

.modal-body {
    font-size: 16px;
    line-height: 1.6;
    color: #495057;
    margin-bottom: 25px;
    text-align: center;
}

.modal-footer {
    text-align: center;
}

.modal-btn {
    background: linear-gradient(135deg, #ff6b6b 0%, #ee5a52 100%);
    color: white;
    border: none;
    padding: 12px 30px;
    border-radius: 25px;
    font-size: 16px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(255, 107, 107, 0.3);
    min-width: 120px;
}

.modal-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(255, 107, 107, 0.4);
}

.modal-btn:active {
    transform: translateY(0);
}

.modal-close {
    position: absolute;
    top: 15px;
    right: 15px;
    background: none;
    border: none;
    font-size: 24px;
    color: #6c757d;
    cursor: pointer;
    width: 30px;
    height: 30px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
}

.modal-close:hover {
    background: #f8f9fa;
    color: #495057;
}

/* ç‰¹æ®Šå¼¹çª—æ ·å¼ */
.modal-recipe .modal-content {
    background: linear-gradient(135deg, #fff8e1 0%, #fff3c4 100%);
    border: 2px solid #ffb74d;
}

.modal-recipe .modal-title {
    color: #e65100;
}

.modal-unlock .modal-content {
    background: linear-gradient(135deg, #e8f5e8 0%, #c8e6c9 100%);
    border: 2px solid #4caf50;
}

.modal-unlock .modal-title {
    color: #2e7d32;
}

.modal-gameover .modal-content {
    background: linear-gradient(135deg, #ffebee 0%, #ffcdd2 100%);
    border: 2px solid #f44336;
}

.modal-gameover .modal-title {
    color: #c62828;
}

.modal-roundend .modal-content {
    background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
    border: 2px solid #2196f3;
}

.modal-roundend .modal-title {
    color: #1565c0;
}

/* ç‚¹å‡»å¼•å¯¼åŠ¨ç”» */
@keyframes bounce {
    0%, 20%, 50%, 80%, 100% {
        transform: translateX(-50%) translateY(0);
    }
    40% {
        transform: translateX(-50%) translateY(-10px);
    }
    60% {
        transform: translateX(-50%) translateY(-5px);
    }
}

/* ç‰¹æ®Šé¡¾å®¢å¯¹è¯æ°”æ³¡é—ªçƒæ•ˆæœ */
@keyframes pulse-glow {
    0% {
        box-shadow: 0 8px 32px rgba(255, 182, 213, 0.15), 0 2px 8px rgba(255, 182, 213, 0.1), 0 0 0 0 rgba(255, 182, 213, 0.4);
        border-color: rgba(255, 182, 213, 0.2);
    }
    50% {
        box-shadow: 0 12px 40px rgba(255, 182, 213, 0.3), 0 4px 12px rgba(255, 182, 213, 0.2), 0 0 0 8px rgba(255, 182, 213, 0.1);
        border-color: rgba(255, 182, 213, 0.5);
    }
    100% {
        box-shadow: 0 8px 32px rgba(255, 182, 213, 0.15), 0 2px 8px rgba(255, 182, 213, 0.1), 0 0 0 0 rgba(255, 182, 213, 0.4);
        border-color: rgba(255, 182, 213, 0.2);
    }
}

/* å½“æœ‰pendingDialogæ—¶ï¼Œå¯¹è¯æ°”æ³¡æ·»åŠ é—ªçƒæ•ˆæœ */
#customerWords.has-pending {
    animation: pulse-glow 2s infinite;
    cursor: pointer;
    position: relative;
    background: linear-gradient(135deg, #ffffff 0%, #fff0f8 50%, #fff8fc 100%);
}

#customerWords.has-pending::after {
    content: 'ğŸ’¬';
    position: absolute;
    top: -12px;
    right: -12px;
    font-size: 24px;
    animation: bounce 1s infinite;
    background: linear-gradient(135deg, #ffb6d5, #ffc0cb);
    border-radius: 50%;
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 4px 12px rgba(255, 182, 213, 0.4);
    border: 2px solid rgba(255, 255, 255, 0.8);
}

/* å“åº”å¼è®¾è®¡ */
@media (max-width: 768px) {
    .modal-content {
        margin: 20px;
        padding: 20px;
        max-width: calc(80vw - 40px);
        max-height: 60vh;
    }
    
    .modal-title {
        font-size: 20px;
    }
    
    .modal-body {
        font-size: 14px;
    }
    
    .modal-btn {
        padding: 10px 25px;
        font-size: 14px;
    }
}

/* ===== æ‚¬æŒ‚æ°”æ³¡ï¼šç‚¹å•é¡µè´´è€å¿ƒæ¡ä¸‹æ–¹ï¼›è¯„ä»·é¡µè´´é¡¶éƒ¨UI ===== */
#gamePage:not(.game-eval) #customerWords {
    position: fixed;
    left: 50%;
    transform: translateX(-50%);
    top: calc(var(--hdr) + var(--barTop) + var(--barH) + 8px);
    z-index: 4; /* æ–‡å­—åœ¨æŸœå°ä¹‹ä¸Š */
    margin: 0; /* ç»å¯¹å®šä½é¿å…æŒ¤å‹ç«‹ç»˜ */
    max-width: 640px !important; /* å’Œè€å¿ƒå€¼æ¡ä¸€æ ·å®½ */
    width: 640px !important;
}
.game-eval #customerWords {
    top: calc(var(--hdr) + 8px);
    margin: 0;
    max-width: 640px !important;
    width: 640px !important;
}

/* æ‰‹æœºç«¯è¯„ä»·é¡µæ°”æ³¡å“åº”å¼ */
@media (max-width: 480px) {
    .game-eval #customerWords {
        max-width: 80% !important;
        width: 80% !important;
    }
}

/* ===== ä½DPIå±å¹•ï¼ˆå¦‚1080pï¼‰ç‰¹åˆ«ä¿®æ­£ï¼šé¿å…å…ƒç´ è¿‡å¤§ ===== */
@media (max-width: 1920px) and (min-width: 1200px) and (max-height: 1200px) and (max-resolution: 120dpi) {
    #box{ 
        width: 80vw; 
        height: calc(80vw * 16 / 9); 
        max-width: calc(100vh * 9 / 16); 
        max-height: 100vh; 
    }
    #gamePage .customer-avatar { 
        --orderAvatarOffset: 6vh;
    }
    #gamePage.game-eval .customer-avatar { 
        --evalAvatarOffset: 6vh;
    }
}

/* ===== é«˜DPIå±å¹•ï¼ˆå¦‚2K/4Kï¼‰ç‰¹åˆ«ä¿®æ­£ï¼šç¡®ä¿å…ƒç´ è¶³å¤Ÿå¤§ ===== */
@media (min-width: 1920px) and (min-resolution: 120dpi) {
    #box{ 
        width: 100vw; 
        height: calc(100vw * 16 / 9); 
        max-width: calc(100vh * 9 / 16); 
        max-height: 100vh; 
    }
    #gamePage .customer-avatar { 
        --orderAvatarOffset: 5vh;
    }
    #gamePage.game-eval .customer-avatar { 
        --evalAvatarOffset: 19vh;
    }
}

/* ===== 1K å±ç‰¹åˆ«ä¿®æ­£ï¼šé¿å… #box è¢« 9:16 å…¬å¼è¿‡åº¦å‹çª„ ===== */
@media (max-height: 900px) and (min-width: 1000px) and (min-width: 1921px) {
    #box{ width:100vw; height:100vh; max-width:calc(100vh * 9 / 16); max-height:100vh; }
    #gamePage .customer-avatar { 
        --orderAvatarOffset: 6vh;
    }
    #gamePage.game-eval .customer-avatar { 
        --evalAvatarOffset: 6vh;
    }
}

#gamePage .btn2 {
    position: absolute;
    left: 50%;
    bottom: 4vh;          /* ç¦»åº• 4% å±å¹•é«˜ï¼Œå¯éšä½ è°ƒ */
    transform: translateX(-50%);
    width: 80vw;          /* æ‰‹æœºä¹Ÿåˆ«å¤ªå¤§ */
    max-width: 640px;     /* ç”µè„‘åˆ«æ’‘å¤ªå®½ */
    height: 14vw;
    max-height: 120px;
    font-size: 4.5vw;
    margin: 0;            /* æŠŠä¹‹å‰çš„ margin-top æ¸…æ‰ */
}
@media (min-width: 768px) {
    #gamePage .btn2 {
        width: 60vw;
        height: 80px;
        font-size: 32px;
        bottom: 30px;   /* ç”µè„‘å†å¤§ä¹Ÿç»™å›ºå®šåƒç´  */
    }
}

/* ä»»ä½•å°ºå¯¸éƒ½ç”Ÿæ•ˆ */
.customer-avatar {
    position: relative;   /* è®©å®ƒæˆä¸ºæ–°çš„å±‚å ä¸Šä¸‹æ–‡ */
    z-index: 1;           /* åªæ¯”èƒŒæ™¯é«˜ */
}

#gamePage .btn2 {
    z-index: 3;   /* æ¯”æŸœå°ä¸ç«‹ç»˜é«˜ */
}

#customerWords,
#patienceBar {
    position: relative;
    z-index: 2;
}

/* æå‡æ–‡å­—æ°”æ³¡å±‚çº§ï¼Œç¡®ä¿åœ¨æŸœå°å‰æ™¯ä¹‹ä¸Š */
#customerWords { z-index: 4; }
#patienceBar  { z-index: 3; }

/* ===== å‰å°å†…çš„è¯„ä»·çŠ¶æ€ ===== */
.game-eval #patienceBar { display:none; }
.game-eval #enterKitchenWrap { display:none; }
.game-eval #dishResult { display:flex; }
.game-eval #evalOkBtn { display:inline-block; }

/* è¯„ä»·æ€ï¼šç‹¬ç«‹å®šä½å„ä¸ªå…ƒç´  */
.game-eval .customer-avatar {
    position: relative !important;
    transform: translateY(calc(var(--orderAvatarOffset, 5vh) + 4vh)) !important;
    z-index: 1;
}

.game-eval #customerWords {
    position: fixed !important;
    top: 120px !important;
    left: 50% !important;
    transform: translateX(-50%) !important;
    z-index: 4;
    margin: 0 !important;
    background: linear-gradient(135deg, #fff8f0 0%, #fff0f8 50%, #f8f0ff 100%);
    border: 2px solid rgba(255, 182, 213, 0.3);
    box-shadow: 0 10px 35px rgba(255, 182, 213, 0.2), 0 3px 10px rgba(255, 182, 213, 0.15);
}

/* è¯„ä»·é¡µå¯¹è¯æ°”æ³¡çš„è£…é¥° */
.game-eval #customerWords::before {
    background: linear-gradient(135deg, #ffb6d5, #ffc0cb, #dda0dd);
    opacity: 0.4;
}

/* ===== è¯„ä»·æ€ï¼šå°†"å¥½çš„"æŒ‰é’®æ‚¬æµ®å›ºå®šåœ¨ç”»é¢åº•éƒ¨å¹¶éšç”»é¢ç¼©æ”¾ ===== */
.game-eval #evalOkBtn {
    position: fixed !important;   /* å›ºå®šå®šä½ï¼Œç‹¬ç«‹äºå…¶ä»–å…ƒç´  */
    left: 50% !important;
    transform: translateX(-50%) !important;
    bottom: clamp(12px, 4vh, 32px) !important;
    width: clamp(200px, 60vw, 640px) !important;
    height: clamp(48px, 8vh, 100px) !important;
    font-size: clamp(18px, 4.5vw, 32px) !important;
    z-index: 5;   /* å§‹ç»ˆæœ€é«˜ï¼Œä¾¿äºç‚¹å‡» */
}

.dish-image {
    width: 120px;
    height: 120px;
    border-radius: 15px;
    overflow: hidden;        /* æŠŠå›¾è£æˆåœ†è§’ */
    display: flex;
    align-items: center;
    justify-content: center;
    border: 3px solid #ffb6d5;
    background: #fff3f8;
}

.dish-image img{
    width: 100%;
    height: 100%;
    object-fit: contain;   /* è®©å›¾å®Œæ•´ç¼©è¿›æ¡†é‡Œï¼Œä¸å˜å½¢ */
    max-width: 100%;       /* é˜²è¶…å¤§å›¾æº¢å‡º */
    max-height: 100%;
  }

/* ===== æ¡Œé¢ç«¯ç«‹ç»˜æ”¾å¤§ï¼ˆæ”¾åœ¨é€šç”¨è§„åˆ™ä¹‹åï¼Œç¡®ä¿è¦†ç›–ï¼‰ ===== */
@media (min-width: 1200px) {
    #gamePage .customer-avatar { height: 75vh; max-height: 900px; }
    #evalPage .customer-avatar { height: 36vh; max-height: 480px; }
    #customerPan { padding: 0 40px !important; }
    #customerWords { max-width: 640px !important; width: 640px !important; }
}

@media (min-width: 1920px) {
    #gamePage .customer-avatar { height: 78vh; max-height: 1100px; }
    #evalPage .customer-avatar { height: 40vh; max-height: 560px; }
    #customerPan { padding: 0 40px !important; }
    #customerWords { max-width: 640px !important; width: 640px !important; }
}

/* ===== æ‰‹æœºç«¯ï¼šè¯„ä»·é˜¶æ®µé˜²æŒ¤å‹ä¼˜åŒ– ===== */
@media (max-width: 480px) {
    /* è®©è¯„ä»·é˜¶æ®µå®¹å™¨å¯æ»šåŠ¨ï¼Œé¿å…è¢«æŒ¤å‡ºå±å¹• */
    .game-eval #customerPan {
        height: calc(100% - 56px); /* æ‰£æ‰ header é«˜åº¦ï¼ˆæ‰‹æœºç«¯ header:56pxï¼‰ */
        overflow-y: auto;
        padding-bottom: 12vh; /* é¢„ç•™åº•éƒ¨æŒ‰é’®ç©ºé—´ */
        box-sizing: border-box;
    }
    /* ç¼©å°è¯„ä»·é˜¶æ®µç«‹ç»˜ï¼Œå–æ¶ˆä¸Šç§» */
    .game-eval #gamePage .customer-avatar {
        height: 26vh !important;
        max-height: 30vh !important;
        transform: none !important;
        margin-bottom: 1.5vh;
    }
    /* æ‰‹æœºç«¯ï¼šç‹¬ç«‹å®šä½å„ä¸ªå…ƒç´  - å·²ç§»åˆ°480pxåª’ä½“æŸ¥è¯¢ä¸­ */
    
    .game-eval #customerWords {
        top: 100px !important; /* æ‰‹æœºç«¯å¯¹è¯æ°”æ³¡ä½ç½® */
        max-width: 80% !important;
        width: 80% !important;
        border-radius: 20px !important;
        box-shadow: 0 8px 25px rgba(255, 182, 213, 0.2), 0 3px 8px rgba(255, 182, 213, 0.15) !important;
        border: 2px solid rgba(255, 182, 213, 0.3) !important;
    }
    
    /* æ‰‹æœºç«¯ï¼šæˆå“å±•ç¤ºæ‚¬æµ®åœ¨"å¥½çš„"æŒ‰é’®ä¸Šæ–¹ */
    .game-eval #dishResult {
        position: fixed;
        bottom: clamp(60px, 10vh, 120px); /* æ‰‹æœºç«¯åœ¨"å¥½çš„"æŒ‰é’®ä¸Šæ–¹ */
        left: 50%;
        transform: translateX(-50%);
        margin: 0;
        padding: 2vh 3vw;
        z-index: 4;
    }
    .game-eval .dish-image { width: 22vw; height: 22vw; }
    .game-eval .dish-name  { font-size: 4vw; }
    /* ç¼©å°å¯¹è¯æ°”æ³¡å­—å·å’Œè¾¹è·ï¼ˆå·²æœ‰åŸºç¡€è§„åˆ™ï¼Œè¿™é‡Œå†å¾®è°ƒï¼‰ */
    .game-eval #customerWords {
        margin-bottom: 2vh !important;
        max-width: 80% !important;
        width: 80% !important;
        left: 50% !important;
        transform: translateX(-50%) !important;
    }
    /* å…¶ä»–æ‰‹æœºç«¯ç»†èŠ‚ä¿ç•™ï¼Œè¿™é‡Œä¸å†è®¾ç½® #evalOkBtnï¼Œæ”¹ç”¨å…¨å±€è¯„ä»·æ€æµ®åŠ¨æŒ‰é’® */
}

/* ===== æ¡Œé¢ç«¯ï¼šç»Ÿä¸€ç‚¹å•ä¸è¯„ä»·é¡µç«‹ç»˜ä½ç½®ï¼ˆå¼ºè¦†ç›–ï¼‰ ===== */
@media (min-width: 1200px) {
    #gamePage .customer-avatar {
        --orderAvatarOffset: 20vh;
    }
    #gamePage.game-eval .customer-avatar {
        --evalAvatarOffset: 20vh;
    }
}

/* å¼ºè¦†ç›–ï¼šç»Ÿä¸€æ¡Œé¢ç«¯(â‰¥1000px)ä¸¤ç§çŠ¶æ€çš„ç«‹ç»˜ä½ç½®ï¼Œå‹è¿‡ 1K ä¸“ç”¨ 6vh è§„åˆ™ */
@media (min-width: 1000px) {
    #gamePage .customer-avatar {
        --orderAvatarOffset: 5vh !important;
    }
    #gamePage.game-eval .customer-avatar {
        --evalAvatarOffset: 19vh !important;
    }
    #customerPan { padding: 0 40px !important; }
    #customerWords { max-width: 640px !important; width: 640px !important; }
}

/* ===== æœ€é«˜ä¼˜å…ˆçº§ï¼šå¼ºåˆ¶æ°”æ³¡å®½åº¦å’Œå±…ä¸­ï¼ˆè¦†ç›–æ‰€æœ‰å‰é¢çš„è§„åˆ™ï¼‰ ===== */
#gamePage:not(.game-eval) #customerWords {
    max-width: 640px !important;
    width: 640px !important;
    left: 50% !important;
    transform: translateX(-50%) !important;
    box-sizing: border-box !important;
}

/* ç»ˆæè¦†ç›–ï¼šç¡®ä¿åœ¨æ‰€æœ‰æ–­ç‚¹ä¸‹éƒ½ç”Ÿæ•ˆï¼Œä½†ä¿ç•™æ‰‹æœºç«¯å“åº”å¼ */
@media screen and (min-width: 481px) {
    #gamePage:not(.game-eval) #customerWords {
        max-width: 640px !important;
        width: 640px !important;
    }
}

/* æ‰‹æœºç«¯ç‰¹æ®Šå¤„ç†ï¼šç¡®ä¿å“åº”å¼ç”Ÿæ•ˆ */
@media screen and (max-width: 480px) {
    #gamePage:not(.game-eval) #customerWords {
        max-width: 80% !important;
        width: 80% !important;
        left: 50% !important;
        transform: translateX(-50%) !important;
    }
}